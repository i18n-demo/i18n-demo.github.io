let e,t;const n=new Set("js|css|htm|html|md|avif|json|ico|xml|rss|gz|mp4|png|svg|txt|webmanifest".split("|")),s="https:",a=Number.parseInt,i=(...e)=>console.error(...e),r=t=>e.transaction(["jsd"],t).objectStore("jsd"),o=e=>e.split(">"),l=o("fastly.jsdelivr.net/npm>cdn.jsdmirror.cn/npm>unpkg.com>jsd.onmicrosoft.cn/npm>cdn.jsdelivr.net/npm>jsd.cdn.noisework.cn/npm>quantil.jsdelivr.net/npm"),c=new Map(l.map(e=>{let t=e.indexOf("/");return t>0?[e.slice(0,t),e.slice(t+1)]:[e,""]})),h=`//${l[0]}/`,p=[],d=e=>{let[t,n,s]=e;e[3]=(n+1)*(s+1)/(t+1)},{host:m}=location,w=async()=>{[t,e]=await Promise.all([caches.open(1),new Promise((e,t)=>Object.assign(indexedDB.open("H",1),{onupgradeneeded:e=>{let t=e.target.result;t.objectStoreNames.contains("jsd")||t.createObjectStore("jsd",{keyPath:"H"}).createIndex("H","H",{unique:!0})},onsuccess:t=>e(t.target.result),onerror:e=>t(e.target.error)}))]);let n=r("readonly");p.splice(0,p.length,...await Promise.all(l.map(e=>new Promise(t=>{let s=n.get(e),a=(n=[0,0,0,0])=>{t([...n,e])};s.onsuccess=e=>{let t=e.target.result;if(t){let{i:e}=t;d(e),a(e)}else a()},s.onerror=e=>{i(e),a()}}))))},u=async(e,n,s,a,i)=>{if([200,204].includes(a.status)){if(!i){let e=a.headers.get("cache-control");e&&"no-cache"!==e&&(i=/max-age=(\d+)/.exec(e))&&(i=+i[1])}let s=new Response(a.clone().body,a);i>0&&s.headers.set("-",(e+i).toString(36)),await t.put(n,s)}else if(a.status>0)throw a;return a},f=async(e,n,s)=>{t||await w();let a=n,o=c.get(s.host);if(void 0!==o){let{pathname:t}=s,l=p.length;if(o){let e=o.length+1;t.slice(1,e)==o?t=t.slice(e):l=0}if(l){let o=s.protocol+"//",c=p.toSorted((e,t)=>e[3]-t[3]),h=[];return new Promise((p,m)=>{let w=async()=>{let g=c.shift(),y=g[4],j=h.length,$=new AbortController;h.push($),n=new Request(s=new URL(o+y+t),{method:n.method});let v=new Date;try{g[3]+=2e3,p(await u(e,a,s,await fetch(n,{signal:$.signal}),9e8)),++g[0],l=0,clearTimeout(f);for(let e=h.length;e-- >0;)e!=j&&h[e].abort()}catch(e){l&&(++g[1],i(s+"",e),c.length?w():m(e))}finally{g[2]+=new Date-v,d(g),r("readwrite").put({H:y,i:g.slice(0,3)})}},f=setInterval(()=>{c.length?w():clearInterval(f)},2e3);w()})}}let l=s.pathname.endsWith(".woff2");"no-cors"!=n.mode||l||(n=new Request(s,{method:n.method}));let h=0;for(;;)try{return await u(e,a,s,await fetch(n),l?9e8:0)}catch(e){if(i(h,s+"",e),++h>9)throw e}},g=(e,t)=>caches.match(e).then(n=>{let s=a(new Date/1e3),r=async()=>{try{return await f(s,e,t)}catch(e){throw i(t+"",e),e}};if(n){let e=n.headers.get("-");return e&&a(e,36)>s?n:new Promise(e=>{let t=setTimeout(()=>{e(n)},3e3);r().then(n=>{clearTimeout(t),e(n)},()=>e(n))})}return r()});Object.entries({install:e=>e.waitUntil(self.skipWaiting()),activate:e=>e.waitUntil(clients.claim()),push:e=>{e.waitUntil(self.registration.showNotification(...e.data.json()))},notificationclick:e=>{e.notification.close(),e.waitUntil(clients.openWindow(e.notification.data.url))},fetch:e=>{let t=e.request,{method:a}=t;if(!["GET","OPTIONS"].includes(a))return;let r=new URL(t.url),{pathname:l,protocol:c}=r;if(c.startsWith("http")){if(r.host==m){if("/_"==l){e.respondWith((async()=>{let e=e=>t=>`${s}//${t}/${e}`,t=o("v.i18n.site>v.ok0.pw>v.3ti.site"),n=t.length,a=async e=>{let s=1,a=e(t[0]),r=new Request(a);for(;;){try{let e=await g(r,new URL(a));if(200==e.status)return await e.text()}catch(e){if(s==n)throw e;i(a,e)}if(s<n)a=e(t[s++]);else break}},r="i18n.site",l="@i18n.site/",c="site",p=a(e(r)),[d,m,w]=o(await a(e(l+c))),u=c+"@"+d,f=m+"@"+w,y=`${h}${r}`,j=async e=>(await g(new Request(e),new URL(e))).text(),$=async e=>JSON.parse(await j(e)),v=s+h,b=`${v}${l}${u}/-`,S=j(b+".js"),x=e=>e.map(e=>JSON.stringify(e)),P=await Promise.all([j(v+f+"/_.css"),j(b+".css"),...o(await p).map((e,t)=>$(s+y+"@"+e+"/"+"PB"[t]+".js"))]),R=x(P.pop()),[T,H,L]=x(P);return await S,new Response(`const _P=${L},_V='${y}',_I='${h}${l}';(()=>{const D=document,N=(t,o)=>D.head.appendChild(Object.assign(D.createElement(t),o)),C=(...l)=>l.map(t=>N("style",{innerHTML:t})),S=o=>N("script",o),M=t=>S({type:'module',innerHTML:t});D.body.style="background:var(--svgWait) 50% 50%/7em no-repeat;height:100dvh";S({type:'importmap',innerHTML:'{"imports":{"x/":"${h}${f}/","i/":"${h}${l}"}}'});S({innerHTML:${R[1]}});M(${R[2]});M('import "i/${u}/-.js"');C(${T},${H},${R[0]})})()`,{headers:{"Content-Type":"text/javascript"}})})());return}n.has(l.split(".").pop())||(t=new Request("/",{method:a}))}e.respondWith(g(t,r))}}}).forEach(([e,t])=>addEventListener(e,t));