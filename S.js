let e,t;const n=new Set("js|css|htm|html|md|avif|json|ico|xml|rss|gz|mp4|png|svg|txt|webmanifest".split("|")),a="https:",i=Number.parseInt,s=(...e)=>console.error(...e),r=t=>e.transaction(["jsd"],t).objectStore("jsd"),o=e=>e.split(">"),l=o("fastly.jsdelivr.net/npm>cdn.jsdmirror.cn/npm>unpkg.com>jsd.onmicrosoft.cn/npm>cdn.jsdelivr.net/npm>jsd.cdn.noisework.cn/npm>quantil.jsdelivr.net/npm"),c=new Map(l.map(e=>{let t=e.indexOf("/");return t>0?[e.slice(0,t),e.slice(t+1)]:[e,""]})),h=`//${l[0]}/`,p=[],d=e=>{let[t,n,a]=e;e[3]=(n+1)*(a+1)/(t+1)},{host:m}=location,w=async()=>{[t,e]=await Promise.all([caches.open(1),new Promise((e,t)=>Object.assign(indexedDB.open("H",1),{onupgradeneeded:e=>{let t=e.target.result;t.objectStoreNames.contains("jsd")||t.createObjectStore("jsd",{keyPath:"H"}).createIndex("H","H",{unique:!0})},onsuccess:t=>e(t.target.result),onerror:e=>t(e.target.error)}))]);let n=r("readonly");p.splice(0,p.length,...await Promise.all(l.map(e=>new Promise(t=>{let a=n.get(e),i=(n=[0,0,0,0])=>{t([...n,e])};a.onsuccess=e=>{let t=e.target.result;if(t){let{i:e}=t;d(e),i(e)}else i()},a.onerror=e=>{s(e),i()}}))))},u=async(e,n,a,i,s)=>{if([200,204].includes(i.status)){if(!s){let e=i.headers.get("cache-control");e&&"no-cache"!==e&&(s=/max-age=(\d+)/.exec(e))&&(s=+s[1])}let a=new Response(i.clone().body,i);s>0&&a.headers.set("-",(e+s).toString(36)),await t.put(n,a)}else if(i.status>0)throw i;return i},f=async(e,n,a)=>{t||await w();let i=n,o=c.get(a.host);if(void 0!==o){let{pathname:t}=a,l=p.length;if(o){let e=o.length+1;t.slice(1,e)==o?t=t.slice(e):l=0}if(l){let o=a.protocol+"//",c=p.toSorted((e,t)=>e[3]-t[3]),h=[];return new Promise((p,m)=>{let w=async()=>{let g=c.shift(),y=g[4],j=h.length,$=new AbortController;h.push($),n=new Request(a=new URL(o+y+t),{method:n.method});let v=new Date;try{g[3]+=2e3,p(await u(e,i,a,await fetch(n,{signal:$.signal}),9e8)),++g[0],l=0,clearTimeout(f);for(let e=h.length;e-- >0;)e!=j&&h[e].abort()}catch(e){l&&(++g[1],s(a+"",e),c.length?w():m(e))}finally{g[2]+=new Date-v,d(g),r("readwrite").put({H:y,i:g.slice(0,3)})}},f=setInterval(()=>{c.length?w():clearInterval(f)},2e3);w()})}}let l=a.pathname.endsWith(".woff2");"no-cors"!=n.mode||l||(n=new Request(a,{method:n.method}));let h=0;for(;;)try{return await u(e,i,a,await fetch(n),l?9e8:0)}catch(e){if(s(h,a+"",e),++h>9)throw e}},g=(e,t)=>caches.match(e).then(n=>{let a=i(new Date/1e3),r=async()=>{try{return await f(a,e,t)}catch(e){throw s(t+"",e),e}};if(n){let e=n.headers.get("-");return e&&i(e,36)>a?n:new Promise(e=>{let t=setTimeout(()=>{e(n)},3e3);r().then(n=>{clearTimeout(t),e(n)},()=>e(n))})}return r()});Object.entries({install:e=>e.waitUntil(self.skipWaiting()),activate:e=>e.waitUntil(clients.claim()),push:e=>{e.waitUntil(self.registration.showNotification(...e.data.json()))},notificationclick:e=>{e.notification.close(),e.waitUntil(clients.openWindow(e.notification.data.url))},fetch:e=>{let t=e.request,{method:i}=t;if(!["GET","OPTIONS"].includes(i))return;let s=new URL(t.url),{pathname:r,protocol:l}=s;if(l.startsWith("http")){if(s.host==m){if("/_"==r){e.respondWith((async()=>{let e=o("v.i18n.site>v.ok0.pw>v.3ti.site"),t=async e=>(await g(new Request(e),new URL(e))).text(),n=async e=>JSON.parse(await t(e)),i=async n=>{let i=e=>`${a}//${e}/${n}`;for(let t of e){let e=i(t);try{return await (await f(0,new Request(e),new URL(e))).text()}catch{}}for(let n of e)try{return await t(i(n))}catch{}},s="i18n.site",r="@i18n.site/",l="site",c=i(s),[p,d,m]=o(await i(r+l)),w=l+"@"+p,u=d+"@"+m,y=`${h}${s}`,j=a+h,$=`${j}${r}${w}/-`,v=t($+".js"),b=e=>e.map(e=>JSON.stringify(e)),S=await Promise.all([t(j+u+"/_.css"),t($+".css"),...o(await c).map((e,t)=>n(a+y+"@"+e+"/"+"PB"[t]+".js"))]),x=b(S.pop()),[P,R,T]=b(S);return await v,new Response(`const _P=${T},_V='${y}',_I='${h}${r}';(()=>{const D=document,N=(t,o)=>D.head.appendChild(Object.assign(D.createElement(t),o)),C=(...l)=>l.map(t=>N("style",{innerHTML:t})),S=o=>N("script",o),M=t=>S({type:'module',innerHTML:t});D.body.style="background:var(--svgWait) 50% 50%/7em no-repeat;height:100dvh";S({type:'importmap',innerHTML:'{"imports":{"x/":"${h}${u}/","i/":"${h}${r}"}}'});S({innerHTML:${x[1]}});M(${x[2]});M('import "i/${w}/-.js"');C(${P},${R},${x[0]})})()`,{headers:{"Content-Type":"text/javascript"}})})());return}n.has(r.split(".").pop())||(t=new Request("/",{method:i}))}e.respondWith(g(t,s))}}}).forEach(([e,t])=>addEventListener(e,t));